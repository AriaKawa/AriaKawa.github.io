<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aria &amp; Friends Project Vault</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-base: #050311;
            --bg-alt: #120a2d;
            --text-primary: #f5f3ff;
            --text-muted: #bcb4da;
            --accent-pink: #f7a7da;
            --accent-blue: #93c6ff;
            --accent-lavender: #c2b7ff;
            --card-gradient: linear-gradient(155deg, rgba(23, 16, 52, 0.92), rgba(10, 6, 27, 0.88));
            --border-gradient: linear-gradient(140deg, rgba(244, 170, 219, 0.8), rgba(147, 198, 255, 0.8));
            --radius-lg: 28px;
            --radius-sm: 14px;
            --shadow-strong: 0 35px 65px rgba(8, 4, 22, 0.7);
        }

        *,
        *::before,
        *::after {
            box-sizing: border-box;
        }

        html, body {
            margin: 0;
            padding: 0;
        }

        body {
            min-height: 100vh;
            font-family: "Plus Jakarta Sans", "Inter", "Segoe UI", system-ui, -apple-system, sans-serif;
            background:
                radial-gradient(circle at top left, rgba(147, 198, 255, 0.28), transparent 55%),
                radial-gradient(circle at bottom right, rgba(247, 167, 218, 0.32), transparent 60%),
                var(--bg-base);
            color: var(--text-primary);
            display: flex;
            justify-content: center;
            padding: clamp(1.6rem, 4vw, 3.5rem);
        }

        .page {
            width: min(1100px, 100%);
            display: grid;
            gap: clamp(2.2rem, 4vw, 3.4rem);
        }

        .page-header {
            display: grid;
            gap: 1.2rem;
            background: linear-gradient(150deg, rgba(21, 13, 40, 0.85), rgba(7, 5, 20, 0.92));
            border-radius: var(--radius-lg);
            padding: clamp(2rem, 4vw, 3rem);
            border: 1px solid rgba(147, 198, 255, 0.18);
            position: relative;
            overflow: hidden;
        }

        .header-bar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
        }

        .account-area {
            position: relative;
            display: inline-flex;
            align-items: center;
        }

        .account-button {
            appearance: none;
            border: none;
            background: rgba(147, 198, 255, 0.12);
            color: var(--accent-blue);
            border-radius: 999px;
            padding: 0.45rem 1.1rem;
            font-weight: 600;
            font-size: 0.9rem;
            letter-spacing: 0.02em;
            cursor: pointer;
            transition: background 0.25s ease, transform 0.25s ease;
        }

        .account-button:hover,
        .account-button:focus-visible {
            background: rgba(147, 198, 255, 0.24);
            transform: translateY(-1px);
            outline: none;
        }

        .account-button.is-active {
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-pink));
            color: #140827;
        }

        .account-menu {
            position: absolute;
            top: calc(100% + 0.6rem);
            right: 0;
            background: rgba(13, 8, 32, 0.95);
            border: 1px solid rgba(147, 198, 255, 0.18);
            border-radius: var(--radius-sm);
            padding: 0.95rem;
            display: grid;
            gap: 0.75rem;
            width: min(240px, 70vw);
            box-shadow: 0 25px 60px rgba(5, 3, 17, 0.65);
            z-index: 20;
        }

        .account-greeting {
            margin: 0;
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        .account-greeting strong {
            color: var(--accent-lavender);
        }

        .account-action {
            appearance: none;
            border: none;
            border-radius: var(--radius-sm);
            padding: 0.6rem 1rem;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-pink));
            color: #140827;
            transition: transform 0.25s ease, box-shadow 0.25s ease;
        }

        .account-action:hover,
        .account-action:focus-visible {
            transform: translateY(-1px);
            box-shadow: 0 20px 35px rgba(247, 167, 218, 0.28);
            outline: none;
        }

        .page-header::after {
            content: "";
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at top right, rgba(247, 167, 218, 0.25), transparent 55%);
            pointer-events: none;
            mix-blend-mode: screen;
        }

        .eyebrow {
            letter-spacing: 0.3em;
            text-transform: uppercase;
            font-size: 0.78rem;
            color: var(--accent-blue);
        }

        h1 {
            font-size: clamp(2.4rem, 6vw, 3.6rem);
            line-height: 1.05;
            margin: 0;
        }

        .lede {
            font-size: clamp(1rem, 2.2vw, 1.2rem);
            color: var(--text-muted);
            max-width: 52ch;
        }

        .header-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .meta-chip {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            padding: 0.4rem 0.9rem;
            border-radius: 999px;
            font-size: 0.85rem;
            background: rgba(147, 198, 255, 0.12);
            color: var(--accent-blue);
        }

        .projects {
            display: grid;
            gap: clamp(1.5rem, 3vw, 2.4rem);
        }

        .section-heading {
            display: grid;
            gap: 0.75rem;
        }

        h2 {
            margin: 0;
            font-size: clamp(1.6rem, 3.6vw, 2.4rem);
        }

        .section-heading p {
            margin: 0;
            color: var(--text-muted);
            max-width: 60ch;
        }

        .project-grid {
            display: grid;
            gap: clamp(1.3rem, 2.6vw, 1.9rem);
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        }

        .project-card {
            position: relative;
            display: grid;
            gap: 1.1rem;
            padding: clamp(1.6rem, 3vw, 2.2rem);
            border-radius: var(--radius-lg);
            background: var(--card-gradient);
            border: 1px solid transparent;
            background-clip: padding-box, border-box;
            background-origin: border-box;
            background-image: var(--card-gradient), var(--border-gradient);
            box-shadow: var(--shadow-strong);
            transition: transform 0.35s ease, box-shadow 0.35s ease, border-color 0.35s ease;
        }

        .project-card::after {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: inherit;
            background: linear-gradient(160deg, rgba(147, 198, 255, 0.18), rgba(247, 167, 218, 0.08));
            opacity: 0;
            transition: opacity 0.35s ease;
            pointer-events: none;
        }

        .project-card:hover,
        .project-card:focus-within {
            transform: translateY(-6px);
            box-shadow: 0 40px 80px rgba(5, 3, 17, 0.85);
        }

        .project-card:hover::after,
        .project-card:focus-within::after {
            opacity: 1;
        }

        .card-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 0.75rem;
            flex-wrap: wrap;
        }

        .status {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.4rem;
            padding: 0.35rem 0.85rem;
            border-radius: 999px;
            font-size: 0.75rem;
            letter-spacing: 0.18em;
            text-transform: uppercase;
            font-weight: 600;
            background: linear-gradient(120deg, var(--accent-blue), var(--accent-pink));
            color: #140827;
        }

        .tag {
            padding: 0.35rem 0.7rem;
            border-radius: 999px;
            font-size: 0.8rem;
            color: var(--accent-lavender);
            background: rgba(194, 183, 255, 0.16);
        }

        .project-card h3 {
            margin: 0;
            font-size: 1.45rem;
        }

        .project-card p {
            margin: 0;
            color: var(--text-muted);
            font-size: 0.98rem;
            line-height: 1.55;
        }

        .project-meta {
            display: grid;
            gap: 0.35rem;
            font-size: 0.82rem;
            color: rgba(188, 180, 218, 0.85);
        }

        .project-meta span {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
        }

        .project-meta time {
            color: var(--accent-blue);
        }

        .cta,
        .cta.disabled {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.45rem;
            margin-top: 0.4rem;
            padding: 0.75rem 1.2rem;
            border-radius: var(--radius-sm);
            font-weight: 600;
            font-size: 0.95rem;
            text-decoration: none;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .cta {
            color: #110720;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-pink));
            box-shadow: 0 18px 32px rgba(147, 198, 255, 0.28);
        }

        .cta:hover,
        .cta:focus-visible {
            transform: translateY(-3px);
            box-shadow: 0 22px 40px rgba(247, 167, 218, 0.32);
        }

        .cta.disabled {
            color: var(--text-muted);
            background: rgba(147, 198, 255, 0.12);
            border: 1px solid rgba(147, 198, 255, 0.22);
            cursor: default;
            box-shadow: none;
            pointer-events: none;
        }

        footer {
            text-align: center;
            color: rgba(188, 180, 218, 0.72);
            font-size: 0.85rem;
            padding-bottom: 0.5rem;
        }

        .auth-backdrop {
            position: fixed;
            inset: 0;
            display: none;
            place-items: center;
            background: rgba(5, 3, 17, 0.76);
            backdrop-filter: blur(18px);
            z-index: 40;
            padding: 1.5rem;
        }

        .auth-backdrop.is-visible {
            display: grid;
        }

        .auth-dialog {
            width: min(420px, 100%);
            background: linear-gradient(160deg, rgba(21, 13, 40, 0.95), rgba(9, 6, 24, 0.92));
            border: 1px solid rgba(147, 198, 255, 0.25);
            border-radius: var(--radius-lg);
            box-shadow: 0 35px 70px rgba(5, 3, 17, 0.8);
            padding: 2.2rem;
            display: grid;
            gap: 1.4rem;
        }

        .auth-dialog h2 {
            font-size: 1.6rem;
            margin: 0;
        }

        .auth-dialog p {
            margin: 0;
            color: var(--text-muted);
            font-size: 0.95rem;
        }

        .auth-form {
            display: grid;
            gap: 1rem;
        }

        .auth-field {
            display: grid;
            gap: 0.45rem;
        }

        .auth-field label {
            font-size: 0.85rem;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            color: var(--accent-blue);
        }

        .auth-field input {
            width: 100%;
            padding: 0.75rem 0.9rem;
            border-radius: var(--radius-sm);
            border: 1px solid rgba(147, 198, 255, 0.24);
            background: rgba(12, 7, 28, 0.65);
            color: var(--text-primary);
            font-size: 0.95rem;
            transition: border 0.2s ease, box-shadow 0.2s ease;
        }

        .auth-field input:focus {
            outline: none;
            border-color: rgba(247, 167, 218, 0.7);
            box-shadow: 0 0 0 3px rgba(247, 167, 218, 0.2);
        }

        .auth-actions {
            display: flex;
            justify-content: flex-end;
            gap: 0.75rem;
        }

        .auth-button {
            appearance: none;
            border: none;
            border-radius: var(--radius-sm);
            padding: 0.7rem 1.3rem;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: transform 0.25s ease, box-shadow 0.25s ease;
        }

        .auth-button.secondary {
            background: rgba(147, 198, 255, 0.12);
            color: var(--accent-blue);
        }

        .auth-button.primary {
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-pink));
            color: #140827;
            box-shadow: 0 18px 32px rgba(147, 198, 255, 0.28);
        }

        .auth-button:hover,
        .auth-button:focus-visible {
            transform: translateY(-1px);
            outline: none;
        }

        .auth-button.primary:hover,
        .auth-button.primary:focus-visible {
            box-shadow: 0 22px 40px rgba(247, 167, 218, 0.32);
        }

        @media (max-width: 720px) {
            body {
                padding: clamp(1.2rem, 6vw, 2rem);
            }

            .header-bar {
                flex-direction: column;
                align-items: flex-start;
                gap: 1.4rem;
            }

            .account-area {
                width: 100%;
            }

            .account-button {
                width: 100%;
                justify-content: center;
            }

            .account-menu {
                position: static;
                width: 100%;
            }

            .card-top {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <main class="page">
        <header class="page-header">
            <div class="header-bar">
                <span class="eyebrow">Aria &amp; Friends</span>
                <div class="account-area">
                    <button class="account-button" type="button" aria-haspopup="true" aria-expanded="false">
                        Sign in
                    </button>
                    <div class="account-menu" role="menu" hidden>
                        <p class="account-greeting">Signed in as <strong class="account-name">Guest</strong></p>
                        <button class="account-action" type="button" data-action="sign-out">Sign out</button>
                    </div>
                </div>
            </div>
            <h1>Project Vault</h1>
            <p class="lede">A curated gallery of the experiments, games, and ideas we are shaping for the crew. Dive straight into what's live and peek at what's brewing next.</p>
            <div class="header-meta">
                <span class="meta-chip">Updated regularly</span>
                <span class="meta-chip">Sylveon-inspired palette</span>
            </div>
        </header>

        <section class="projects" aria-labelledby="project-heading">
            <div class="section-heading">
                <h2 id="project-heading">Project roster</h2>
                <p>All the action in one place—no extra clicks needed. Explore current builds and keep an eye on the concepts waiting in the wings.</p>
            </div>

            <div class="project-grid">
                <article class="project-card" data-status="live">
                    <div class="card-top">
                        <span class="status">Live</span>
                        <span class="tag">Game</span>
                    </div>
                    <h3>Blackjack Lounge</h3>
                    <p>Classic 21 with a velvet neon glow. Shuffle, deal, and see if you can outsmart the dealer under the pastel lights.</p>
                    <div class="project-meta">
                        <span>Last major update · <time datetime="2024-05-10">May 10, 2024</time></span>
                    </div>
                    <a class="cta" href="blackjack.html">Launch table</a>
                </article>

                <article class="project-card" data-status="brewing">
                    <div class="card-top">
                        <span class="status">Brewing</span>
                        <span class="tag">Rhythm</span>
                    </div>
                    <h3>Rhythm Reactor</h3>
                    <p>Fast-paced music challenge blending osu!-style hits with memory sparkles. Currently sourcing tracks and chart ideas.</p>
                    <div class="project-meta">
                        <span>Concept phase · <time datetime="2024-04-27">Apr 27, 2024</time></span>
                    </div>
                    <span class="cta disabled">Stay tuned</span>
                </article>

                <article class="project-card" data-status="live">
                    <div class="card-top">
                        <span class="status">Live</span>
                        <span class="tag">Game</span>
                    </div>
                    <h3>Rat Race</h3>
                    <p>Pick your favorite neon-fueled racer and cheer as the rats dash across the arcade track toward glory.</p>
                    <div class="project-meta">
                        <span>Launched for the crew · <time datetime="2024-06-05">Jun 5, 2024</time></span>
                    </div>
                    <a class="cta" href="RatRace.html">Enter race</a>
                </article>

                <article class="project-card" data-status="reserved">
                    <div class="card-top">
                        <span class="status">Reserved</span>
                        <span class="tag">Wildcard</span>
                    </div>
                    <h3>Mystery Slot</h3>
                    <p>Pitch something wild and wonderful. Bonus points if it sparks chaos—in the best Sylveon-tinted way.</p>
                    <div class="project-meta">
                        <span>Ideas welcome · <time datetime="2024-03-15">Mar 15, 2024</time></span>
                    </div>
                    <span class="cta disabled">Accepting ideas</span>
                </article>
            </div>
        </section>

        <footer>
            Crafted with stardust gradients and a dash of Sylveon charm. Ping Aria for collab ideas.
        </footer>
    </main>

    <div class="auth-backdrop" role="dialog" aria-modal="true" aria-labelledby="auth-title">
        <div class="auth-dialog">
            <div>
                <h2 id="auth-title">Welcome back</h2>
                <p>Sign in to sync your favorite projects and keep tabs on new drops.</p>
            </div>
            <form class="auth-form" id="auth-form">
                <div class="auth-field">
                    <label for="display-name">Display name</label>
                    <input id="display-name" name="displayName" type="text" autocomplete="name" required placeholder="Sylveon Fan" maxlength="32">
                </div>
                <div class="auth-field">
                    <label for="email">Email</label>
                    <input id="email" name="email" type="email" autocomplete="email" required placeholder="you@example.com">
                </div>
                <div class="auth-actions">
                    <button class="auth-button secondary" type="button" data-action="cancel">Cancel</button>
                    <button class="auth-button primary" type="submit">Sign in</button>
                </div>
            </form>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
        import { getAnalytics, isSupported } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-analytics.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDRniZatGeylxphjHQadYjucOcirNBRIdk",
            authDomain: "multiplayer-640ec.firebaseapp.com",
            databaseURL: "https://multiplayer-640ec-default-rtdb.firebaseio.com",
            projectId: "multiplayer-640ec",
            storageBucket: "multiplayer-640ec.firebasestorage.app",
            messagingSenderId: "94914236381",
            appId: "1:94914236381:web:55ab00cc690140180cf034",
            measurementId: "G-V43J1S8RGF"
        };

        const app = initializeApp(firebaseConfig);
        isSupported()
            .then((supported) => {
                if (supported) {
                    getAnalytics(app);
                }
            })
            .catch((err) => console.warn("Firebase analytics not supported", err));

        const accountKey = "ak-project-vault-account";
        const accountButton = document.querySelector(".account-button");
        const accountMenu = document.querySelector(".account-menu");
        const accountName = document.querySelector(".account-name");
        const accountArea = document.querySelector(".account-area");
        const authBackdrop = document.querySelector(".auth-backdrop");
        const authForm = document.querySelector("#auth-form");

        if (
            accountButton &&
            accountMenu &&
            accountName &&
            accountArea &&
            authBackdrop &&
            authForm
        ) {
            const cancelAuthButton = authForm.querySelector('[data-action="cancel"]');
            const signOutButton = accountMenu.querySelector('[data-action="sign-out"]');
            const nameInput = authForm.querySelector('#display-name');
            const emailInput = authForm.querySelector('#email');

            let menuOpen = false;
            let activeAccount = null;
            let storageAvailable = true;

            let storedAccount = null;
            try {
                storedAccount = window.localStorage.getItem(accountKey);
            } catch (error) {
                storageAvailable = false;
                console.warn("Account storage unavailable", error);
            }

            if (storedAccount) {
                try {
                    activeAccount = JSON.parse(storedAccount);
                } catch (error) {
                    console.warn("Unable to parse stored account", error);
                    if (storageAvailable) {
                        window.localStorage.removeItem(accountKey);
                    }
                }
            }

            const persistAccount = (account) => {
                if (!storageAvailable) return;
                try {
                    if (account) {
                        window.localStorage.setItem(accountKey, JSON.stringify(account));
                    } else {
                        window.localStorage.removeItem(accountKey);
                    }
                } catch (error) {
                    storageAvailable = false;
                    console.warn("Unable to persist account", error);
                }
            };

            const closeMenu = () => {
                if (!menuOpen) return;
                accountMenu.hidden = true;
                accountButton.setAttribute("aria-expanded", "false");
                accountButton.classList.remove("is-active");
                menuOpen = false;
            };

            const openMenu = () => {
                accountMenu.hidden = false;
                accountButton.setAttribute("aria-expanded", "true");
                accountButton.classList.add("is-active");
                menuOpen = true;
            };

            const openAuthModal = () => {
                authBackdrop.classList.add("is-visible");
                closeMenu();
                if (activeAccount && nameInput && emailInput) {
                    nameInput.value = activeAccount.name;
                    emailInput.value = activeAccount.email;
                }
                if (nameInput) {
                    requestAnimationFrame(() => {
                        nameInput.focus();
                    });
                }
            };

            const closeAuthModal = () => {
                authBackdrop.classList.remove("is-visible");
                authForm.reset();
                accountButton.focus();
            };

            const getGreetingName = (name) => {
                if (!name) return "Friend";
                const trimmed = name.trim();
                if (!trimmed.includes(" ")) {
                    return trimmed;
                }
                return trimmed.split(" ")[0];
            };

            const updateAccountUI = () => {
                if (activeAccount) {
                    const greetingName = getGreetingName(activeAccount.name);
                    accountName.textContent = activeAccount.name;
                    accountButton.textContent = `Hi, ${greetingName}`;
                    accountButton.dataset.state = "signed-in";
                    accountButton.setAttribute("aria-expanded", menuOpen ? "true" : "false");
                } else {
                    accountName.textContent = "Guest";
                    accountButton.textContent = "Sign in";
                    accountButton.dataset.state = "signed-out";
                    accountButton.classList.remove("is-active");
                    accountButton.setAttribute("aria-expanded", "false");
                    accountMenu.hidden = true;
                    menuOpen = false;
                }
            };

            updateAccountUI();

            accountButton.addEventListener("click", () => {
                if (accountButton.dataset.state === "signed-in") {
                    if (menuOpen) {
                        closeMenu();
                    } else {
                        openMenu();
                    }
                } else {
                    openAuthModal();
                }
            });

            document.addEventListener("click", (event) => {
                if (!menuOpen) return;
                if (!accountArea.contains(event.target)) {
                    closeMenu();
                }
            });

            document.addEventListener("keydown", (event) => {
                if (event.key === "Escape") {
                    if (authBackdrop.classList.contains("is-visible")) {
                        closeAuthModal();
                    }
                    closeMenu();
                }
            });

            authBackdrop.addEventListener("click", (event) => {
                if (event.target === authBackdrop) {
                    closeAuthModal();
                }
            });

            cancelAuthButton?.addEventListener("click", () => {
                closeAuthModal();
            });

            authForm.addEventListener("submit", (event) => {
                event.preventDefault();
                const formData = new FormData(authForm);
                const name = formData.get("displayName").trim();
                const email = formData.get("email").trim().toLowerCase();

                if (!name || !email) {
                    return;
                }

                activeAccount = { name, email };
                persistAccount(activeAccount);
                updateAccountUI();
                closeAuthModal();
            });

            signOutButton?.addEventListener("click", () => {
                persistAccount(null);
                activeAccount = null;
                updateAccountUI();
            });
        } else {
            console.warn("Account UI failed to initialize.");
        }
    </script>
</body>
</html>
